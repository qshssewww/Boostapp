var returnVal;!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";var n,i,s,a,o,l,f,c,r,d,u,p,g,v,h,m,y,b,C,w,B,$,N,k,x,_,S,P,z,j,L={bounce:{className:"bounce-effect"},slideRightLeft:{className:"slide-right-left-effect"},slideLeftRight:{className:"slide-left-right-effect"},basic:{className:"default-effect"},flip:{className:"flip-effect"},transformation:{className:"transformation-effect"},slideDownUp:{className:"slide-down-up-effect"},slideUpDown:{className:"slide-up-down-effect"}},Q={style1:{className:"gsi-step-indicator triangle gsi-style-1"},style2:{className:"gsi-step-indicator triangle gsi-style-2"},style3:{className:"gsi-step-indicator triangle gsi-style-3"},style4:{className:"gsi-style-4"},style5:{className:"gsi-style-5"},style5_circle:{className:" gsi-style-5 gsi-number-circle"},style6:{className:"gsi-style-6"},style7_borderTop:{className:"gsi-style-7 border-top"},style7_borderBottom:{className:"gsi-style-7 border-bottom"},style7_borderLeft:{className:"gsi-style-7 border-left"},style7_borderRight:{className:"gsi-style-7 border-right"},style7_borderTop_circle:{className:"gsi-style-7 border-top gsi-number-circle"},style7_borderBottom_circle:{className:"gsi-style-7 border-bottom gsi-number-circle"},style7_borderLeft_circle:{className:"gsi-style-7 border-left gsi-number-circle"},style7_borderRight_circle:{className:"gsi-style-7 border-right gsi-number-circle"},style8:{className:"gsi-style-8"},style8_circle:{className:"gsi-style-8 gsi-number-circle"},style9:{className:"gsi-style-9"},style10:{className:"gsi-style-10"},style11:{className:"gsi-style-11"},style12:{className:"gsi-style-12"}},I={bottom:{position:"bottom",stepClass:"",containerClass:"tsf-bottom-container",navStepClass:"tsf-bottom-nav-step"},top:{position:"top",stepClass:"",containerClass:"",navStepClass:""},right:{position:"right",stepClass:"gsi-arrow-left gsi-vertical",containerClass:"tsf-left-container",navStepClass:"tsf-right-nav-step"},left:{position:"left",stepClass:"gsi-vertical",containerClass:"tsf-right-container",navStepClass:"tsf-left-nav-step"}},q={all:{className:"gsi-step-no-available-all"},after_current:{className:"gsi-step-no-available-after-current"},before_current:{className:"gsi-step-no-available-before-current"},none:{className:".gsi-step-no-available-all,.gsi-step-no-available-after-current,.gsi-step-no-available-before-current"}},A=!1,D=!0,F=function(t,e){this.elem=t,this.$elem=jQuery(t),this.options=e,this.langArr};F.prototype={defaults:{loading_color1:"#3B7694",loading_color2:"#09181F",showLoading:!0,stepStyle:"style1",stepEffect:"basic",showStepNum:!0,stepTransition:!0,validation:!1,navPosition:"top",height:"auto",showButtons:!0,manySteps:!1,prevBtn:'<i class="fa fa-chevron-right"> הקודם',nextBtn:'הבא <i class="fa fa-chevron-left"></i> </i>',finishBtn:"סיום",disableSteps:"none",onBeforeNextButtonClick:function(t){},onAfterNextButtonClick:function(t){},onBeforePrevButtonClick:function(t){},onAfterPrevButtonClick:function(t){},onBeforeFinishButtonClick:function(t){},onAfterFinishButtonClick:function(t){}},init:function(){return n=this,n.config=t.extend({},this.defaults,this.options),i=I[n.config.navPosition],s=L[n.config.stepEffect],f=Q[n.config.stepStyle],n.defaults_values(),n.events(),n.loadScript(),n.config.validation&&!n.config.showButtons&&console.error("Validation and showButtons not be true same time."),this},loadScript:function(){"top"==n.config.navPosition||"bottom"==n.config.navPosition?(c=0,n.$elem.find(".tsf-nav li").each(function(){c+=jQuery(this).width()}),n.$elem.find(".tsf-nav").css("width",c+60)):(r=0,n.$elem.find(".tsf-nav li").each(function(){r+=jQuery(this).height()}),n.$elem.find(".tsf-nav").css("height",r)),n.$elem.closest(".tsf-wizard").each(function(){A=!0,jQuery(this).find(".tsf-nav-step li").eq(0).click()})},display:function(t){n.$elem.html(t)},defaults_values:function(){n.$elem.attr("data-step-effect",s.className),n.$elem.attr("data-step-index",0),n.$elem.find(".tsf-nav-step ul").removeClass(),n.$elem.find(".tsf-nav-step ul").addClass(f.className),n.config.validation===!0&&n.$elem.find(".tsf-nav-step ul").addClass("gsi-step-no-available"),1==n.config.stepTransition&&n.$elem.find(".tsf-nav-step ul").addClass("gsi-transition"),n.config.manySteps&&(n.$elem.find(".tsf-nav-step").addClass("tsf-nav-many-steps"),n.$elem.find(".tsf-nav-step ul").addClass("tsf-nav"),"left"==n.config.navPosition||"right"==n.config.navPosition?n.$elem.find(".tsf-nav-many-steps").css({height:n.config.height}):"top"!=n.config.navPosition&&"bottom"!=n.config.navPosition||(l=t(window).width(),l<768&&(n.$elem.find(".tsf-nav").css("width","100%"),n.$elem.find(".tsf-nav-many-steps").css({height:"286px","overflow-y":"scroll"})))),n.config.showStepNum?n.$elem.removeClass("not-show-num"):n.$elem.addClass("not-show-num"),n.config.validation&&n.$elem.find(".tsf-step").each(function(t,e){jQuery(e).find(":input").attr("data-parsley-group","block-"+t)}),n.$elem.find(".tsf-nav-step").addClass(i.navStepClass),n.$elem.find(".tsf-nav-step ul").addClass(i.stepClass),n.$elem.find(".tsf-container").addClass(i.containerClass),n.$elem.addClass(i.position),n.$elem.find(".tsf-container .tsf-content").css({height:n.config.height,"overflow-y":"auto"}),n.$elem.find(".tsf-controls").css({display:1==n.config.showButtons?"block":"none"}),n.disableSteps(n.config.disableSteps),n.$elem.find('[data-type="prev"]').html(String(n.config.prevBtn)),n.$elem.find('[data-type="next"]').html(String(n.config.nextBtn)),n.$elem.find('[data-type="finish"]').html(String(n.config.finishBtn)),n.$elem.find('[data-type="next"]').click(function(t){if(n.config.validation&&(h=n.$elem.find(".tsf-step.active").index(),D=n.$elem.find(".tsf-content").parsley().validate({group:"block-"+h})),n.config.onBeforeNextButtonClick!==e&&n.config.onBeforeNextButtonClick(t,D),1==t.isDefaultPrevented())return!1;n.buttonClick(jQuery(this)),d=n.$elem.find(".tsf-nav-step li.current").index(),u=d,p=d+1,n.config.onAfterNextButtonClick!==e&&n.config.onAfterNextButtonClick(t,u,p,D)}),n.$elem.find('[data-type="prev"]').click(function(t){if(d=n.$elem.find(".tsf-nav-step li.current").index(),u=d,p=d-1,n.config.onBeforePrevButtonClick!==e&&n.config.onBeforePrevButtonClick(t,u,p),1==t.isDefaultPrevented())return!1;n.buttonClick(jQuery(this)),n.config.onAfterPrevButtonClick!==e&&n.config.onAfterPrevButtonClick(t,u,p)}),n.$elem.find('[data-type="finish"]').click(function(t){if(n.config.validation&&(h=n.$elem.data("step-index"),D=n.$elem.find(".tsf-content").parsley().validate({group:"block-"+h})),n.config.onBeforeFinishButtonClick!==e&&n.config.onBeforeFinishButtonClick(t,D),1==t.isDefaultPrevented())return!1;n.finishButtonClick(jQuery(this)),n.config.onAfterFinishButtonClick!==e&&n.config.onAfterFinishButtonClick(t,D)})},events:function(){n.$elem.find(".tsf-nav-step li").click(function(){g=jQuery(this),n.wizardNavStepClick(g,"nav-step")})},finishButtonClick:function(t){y=t.closest(".tsf-wizard"),n.config.validation&&(m=y.find(".tsf-step.active").find(".tsf-step-content"),h=n.$elem.find(".tsf-step.active").index(),D&&n.$elem.find(".tsf-content").submit())},buttonClick:function(t){y=t.closest(".tsf-wizard"),z=y.attr("data-step-index"),j=t.attr("data-type"),z="next"==j?parseInt(z)+1:parseInt(z)-1,n.config.validation&&"next"==j?(m=y.find(".tsf-step.active").find(".tsf-step-content"),0==m.length&&(n.wizardBtnClick(z),n.wizardNavStepClick(t.closest(".tsf-wizard").find(".tsf-nav-step li").eq(z),"nav-btn")),D&&(n.wizardBtnClick(z),n.wizardNavStepClick(t.closest(".tsf-wizard").find(".tsf-nav-step li").eq(z),"nav-btn"))):(n.wizardBtnClick(z),n.wizardNavStepClick(t.closest(".tsf-wizard").find(".tsf-nav-step li").eq(z),"nav-btn"))},disableSteps:function(t){switch(v=q[t],t){case"all":case"after_current":case"before_current":n.$elem.find(".tsf-nav-step ul").addClass(v.className);break;case"none":n.$elem.find(".tsf-nav-step ul").removeClass(v.className)}},wizardBtnClick:function(t){N=0==t?1:n.$elem.find(".tsf-nav-step li").length,k=!1,x=!1,_=n.$elem.find('.tsf-controls [data-type="prev"]'),S=n.$elem.find('.tsf-controls [data-type="next"]'),P=n.$elem.find('.tsf-controls [data-type="finish"]'),x=0==t,t!=-1&&(t>=N-1&&0!=t&&(k=!0),x?_.hide():_.show(),k?(S.hide(),P.show()):(S.show(),P.hide()))},wizardNavStepClick:function(t,e){if(y=n.$elem,b=y.find(".tsf-nav-step li.current").index(),C=!1,"none"!==n.config.disableSteps)switch(n.config.disableSteps){case"all":C=!0;break;case"after_current":t.index()>b&&(C=!0);break;case"before_current":t.index()<b&&(C=!0);break;case"none":C=!1}if(!A){if(b<t.index()&&t.parent().hasClass("gsi-step-no-available")&&"nav-step"==e)return!1;if(C&&"nav-step"==e)return!1}A=!1,y.find(".tsf-nav-step li").removeClass("current"),t.addClass("current"),w=y.find(".tsf-nav-step li.current").index(),B=t.data("target"),$=s.className,y.find(".tsf-content>.tsf-step").removeClass("active").removeClass($),y.find(".tsf-content>."+B).addClass("active").addClass($),y.attr("data-step-index",t.index()),n.config.manySteps&&void 0!==t.position()&&("top"==n.config.navPosition||"bottom"==n.config.navPosition?(a=Math.round(t.position().left),l=jQuery(window).width(),l>1e3?(o=y.find(".tsf-nav").width()-y.find(".tsf-nav-many-steps").width(),a=o<a?o:0):(_notShown=y.find(".tsf-nav").width()-y.find(".tsf-nav-many-steps").width()-a,_notShown<60?a=y.find(".tsf-nav-step li:last-child").position().left-y.find(".tsf-nav-many-steps").width()+y.find(".tsf-nav-step li:last-child").width():a-=80,0==w&&(a=0)),y.find(".tsf-nav").css("transform","translateX(-"+a+"px)")):(_top=Math.round(t.position().top)+60,o=y.find(".tsf-nav").height()-y.find(".tsf-nav-many-steps").height(),_allCount=y.find(".tsf-nav li").length,_avgHeight=Math.round(y.find(".tsf-nav").height()/_allCount),_shownCount=Math.round(parseInt(n.config.height.replace("px",""),0)/_avgHeight),_notShownCount=_allCount-w,b>w?(w=w-_shownCount+2,w<0&&(w=0),_top=y.find(".tsf-nav li").eq(w).position().top):_notShownCount>_shownCount?(w-=1,w<0&&(w=0),_top=y.find(".tsf-nav li").eq(w).position().top):(w=_allCount-_shownCount,_top=y.find(".tsf-nav li").eq(w).position().top),y.find(".tsf-nav").css("transform","translateY(-"+_top+"px)"))),n.wizardBtnClick(t.index())},show_loading:function(){1==n.config.showLoading&&(n.$elem.css({position:"relative"}),n.display('<div class="bal-loading-container"><div class="bal-loading"><div class="bal-loading-bounce-1" style="background-color:'+n.config.loading_color1+'"></div><div class="bal-loading-bounce-2" style="background-color:'+n.config.loading_color2+'"></div></div></div>'))},getCurrentIndex:function(){return n.$elem.find(".tsf-nav-step li.current").index()},nextButtonLabel:function(t){n.$elem.find('.tsf-controls [data-type="next"]').html(t)},prevButtonLabel:function(t){n.$elem.find('.tsf-controls [data-type="prev"]').html(t)},finishButtonLabel:function(t){n.$elem.find('.tsf-controls [data-type="finish"]').html(t)},goto:function(t){if(n.getCurrentIndex()<t&&1==n.config.validation)return void console.error("Validation is true.You can not go to the next step");n.wizardBtnClick(t),n.wizardNavStepClick(n.$elem.find(".tsf-nav-step li").eq(t),"nav-btn")},setDisableSteps:function(t){n.config.disableSteps=t,n.disableSteps(t)},nextStep:function(){z=n.getCurrentIndex()+1,n.goto(z)},previousStep:function(){z=n.getCurrentIndex()-1,n.goto(z<0?0:z)},validate:function(){n.config.validation&&(D=n.$elem.find(".tsf-content").parsley().validate({group:"block-"+n.getCurrentIndex()}))}},t.fn.tsfWizard=function(t){var e;return this.nextButtonLabel=function(t){e.nextButtonLabel(t)},this.prevButtonLabel=function(t){e.prevButtonLabel(t)},this.finishButtonLabel=function(t){e.finishButtonLabel(t)},this.getCurrentIndex=function(){return e.getCurrentIndex()},this.goto=function(t){e.goto(t)},this.setDisableSteps=function(t){e.setDisableSteps(t)},this.nextStep=function(){e.nextStep()},this.previousStep=function(){e.previousStep()},this.validate=function(){e.validate()},this.each(function(){e=new F(this,t),e.init()})}}),jQuery.fn.hasParent=function(t){return 1==jQuery(this).parents(t).length};